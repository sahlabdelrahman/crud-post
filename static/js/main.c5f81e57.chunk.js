(this["webpackJsonpcrud-post"]=this["webpackJsonpcrud-post"]||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(33),a=n.n(r),o=(n(132),n(15)),i=(n(133),n(37)),s=n(208),d=n(211),l=n(2);var j=function(){return Object(l.jsx)("header",{style:{position:"fixed",left:0,top:0,width:"100%",backgroundColor:"black"},children:Object(l.jsxs)(d.a,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px"},children:[Object(l.jsx)(s.a,{variant:"h5",component:"div",children:Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white"},to:"/",children:"Crud"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white",marginRight:"15px",fontWeight:"bold"},to:"/",children:"Home"}),Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white",fontWeight:"bold"},to:"/",children:"Posts"})]})]})})};var u=function(){return Object(l.jsx)("footer",{style:{position:"fixed",left:0,bottom:0,width:"100%",backgroundColor:"black"},children:Object(l.jsx)(d.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"15px",paddingBottom:"15px"},children:Object(l.jsx)(s.a,{variant:"body1",color:"white",children:"\xa9 2021 Crud"})})})};function b(e){var t=e.children;return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),t,Object(l.jsx)(u,{})]})}var p=n(13),h=n(5),O=n(27),x=n(16),f=n(17),y=n.n(f),v=n(28),g=n(49),m=n.n(g),w="GET_POSTS",C="GET_POST",k="EDIT_POST",T="DELETE_POST",S="SEARCH_POTS",L="https://jsonplaceholder.typicode.com/posts",E=function(e){return function(){var t=Object(v.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.delete("".concat(L,"/").concat(e)).then((function(t){n({type:T,payload:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e,t){return function(){var n=Object(v.a)(y.a.mark((function n(c){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.put("".concat(L,"/").concat(e),Object(x.a)({},t)).then((function(e){c({type:k,payload:Object(x.a)({},e.data)})})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},F=n(203),R=n(82),A=n(4),B=n(217),P=n(108),W=n.n(P),_=n(205),I=n(212),z=n(216),M=n(214),q=n(215),G=n(213),H=n(197),J=Object(c.forwardRef)((function(e,t){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:t},e))}));var N=function(e){e.id;var t=e.title,n=e.body,r=Object(c.useState)(!1),a=Object(p.a)(r,2),o=a[0],i=a[1],s=function(){i(!1)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(W.a,{onClick:function(){i(!0)},color:"primary",style:{marginRight:"10px",cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:o,TransitionComponent:J,keepMounted:!0,onClose:s,"aria-describedby":"dialog-slide",children:[Object(l.jsx)(G.a,{children:t}),Object(l.jsx)(M.a,{children:Object(l.jsx)(q.a,{children:n})}),Object(l.jsx)(z.a,{children:Object(l.jsx)(_.a,{onClick:s,children:"Cancel"})})]})]})},U=n(109),K=n.n(U),Q=n(204),V=Object(c.forwardRef)((function(e,t){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:t},e))}));var X=function(e){var t=e.id,n=e.title,r=e.body,a=Object(O.b)(),o=Object(c.useState)({title:"",body:""}),i=Object(p.a)(o,2),s=i[0],d=i[1];Object(c.useEffect)((function(){d({title:n,body:r})}),[n,r]);var j=Object(c.useState)(!1),u=Object(p.a)(j,2),b=u[0],f=u[1],g=function(e){var t=e.target,n=t.name,c=t.value;d(Object(x.a)(Object(x.a)({},s),{},Object(h.a)({},n,c)))},m=function(){f(!1)},w=function(){var e=Object(v.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(D(t,s));case 3:return e.next=5,m();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)(K.a,{onClick:function(){f(!0)},color:"action",style:{marginRight:"10px",cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:b,TransitionComponent:V,keepMounted:!0,onClose:m,"aria-describedby":"dialog-slide",children:[Object(l.jsx)(G.a,{children:"Edit"}),Object(l.jsxs)(M.a,{children:[Object(l.jsx)(q.a,{children:"To edit the post, you must enter the new title and description"}),Object(l.jsxs)("form",{id:"editForm",onSubmit:w,children:[Object(l.jsx)(Q.a,{margin:"dense",id:"title",name:"title",value:s.title,onChange:g,label:"Title",type:"text",fullWidth:!0,variant:"standard",required:!0}),Object(l.jsx)(Q.a,{margin:"dense",id:"body",name:"body",value:s.body,onChange:g,label:"Description",type:"text",fullWidth:!0,variant:"standard",required:!0})]})]}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(_.a,{onClick:m,children:"Cancel"}),Object(l.jsx)(_.a,{type:"submit",form:"editForm",children:"Update"})]})]})]})},Y=n(110),Z=n.n(Y),$=Object(c.forwardRef)((function(e,t){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:t},e))}));var ee=function(e){var t=e.id,n=Object(c.useState)(!1),r=Object(p.a)(n,2),a=r[0],o=r[1],i=Object(O.b)(),s=function(){o(!1)},d=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){d.current=!1}}),[]);var j=function(){var e=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.current){e.next=4;break}return e.next=3,i(E(t));case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)(Z.a,{onClick:function(){o(!0)},color:"error",style:{cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:a,TransitionComponent:$,keepMounted:!0,onClose:s,"aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(G.a,{children:"Delete"}),Object(l.jsx)(M.a,{children:Object(l.jsx)(q.a,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete the post?"})}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(_.a,{onClick:s,children:"Cancel"}),Object(l.jsx)(_.a,{onClick:j,children:"Confirm"})]})]})]})},te=Object(A.a)(F.a)((function(e){var t,n=e.theme;return t={},Object(h.a)(t,"&.".concat(R.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(h.a)(t,"&.".concat(R.a.body),{fontSize:14}),t})),ne=Object(A.a)(B.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));var ce=function(e){var t=e.id,n=e.title,c=e.body;return Object(l.jsxs)(ne,{children:[Object(l.jsx)(te,{component:"th",scope:"row",children:Object(l.jsx)(i.b,{style:{textDecoration:"none"},to:"/posts/".concat(t),children:n})}),Object(l.jsxs)(te,{style:{display:"flex"},children:[Object(l.jsx)(N,{id:t,title:n,body:c}),Object(l.jsx)(X,{id:t,title:n,body:c}),Object(l.jsx)(ee,{id:t})]})]})};var re=function(e){var t=e.searchTerm,n=e.setSearchTerm,c=e.postsLength,r=function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"20px",paddingBottom:"20px"},children:[Object(l.jsx)("div",{children:Object(l.jsxs)(s.a,{children:["".concat(c," ")," posts"]})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"search",value:t,onChange:r,placeholder:"Search...",style:{padding:"10px",borderRadius:"4px",border:"2px solid #F9FAFD"}})})]})},ae=n(219),oe=n(221),ie=n(218),se=n(220),de=n(210),le=Object(A.a)(F.a)((function(e){var t,n=e.theme;return t={},Object(h.a)(t,"&.".concat(R.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(h.a)(t,"&.".concat(R.a.body),{fontSize:14}),t}));var je=function(){var e=Object(O.c)((function(e){return e.data})),t=e.posts,n=e.loading,r=Object(O.b)();Object(c.useEffect)((function(){r(function(){var e=Object(v.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(L)).then((function(e){return t({type:w,payload:e.data.slice(0,20)})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r]);var a=Object(c.useState)(""),o=Object(p.a)(a,2),i=o[0],s=o[1];return Object(l.jsx)("div",{style:{paddingTop:"120px",paddingBottom:"120px",backgroundColor:"#F9FAFD"},children:Object(l.jsx)(d.a,{children:Object(l.jsxs)(ie.a,{style:{padding:"20px"},component:de.a,children:[Object(l.jsx)(re,{searchTerm:i,setSearchTerm:s,postsLength:t.length}),Object(l.jsxs)(ae.a,{style:{minWidth:"900px"},sx:{minWidth:700},"aria-label":"customized table",children:[Object(l.jsx)(se.a,{children:Object(l.jsxs)(B.a,{children:[Object(l.jsx)(le,{children:"Title"}),Object(l.jsx)(le,{children:"Actions"})]})}),Object(l.jsx)(oe.a,{children:n?Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)("p",{style:{paddingLeft:"15px"},children:"Loading..."})})}):t.length>0?null===t||void 0===t?void 0:t.filter((function(e){return e.title===i||e.title.toLowerCase().includes(i.toLocaleLowerCase())?e:void 0})).map((function(e){return Object(l.jsx)(ce,{id:e.id,title:e.title,body:e.body},e.id)})):Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)("p",{style:{paddingLeft:"15px"},children:"No posts to show"})})})})]})]})})})};var ue=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(je,{})})};var be=function(){var e=Object(o.f)().id,t=Object(O.b)(),n=Object(O.c)((function(e){return e.data})),r=n.post,a=n.loading;return Object(c.useEffect)((function(){t(function(e){return function(){var t=Object(v.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat(L,"/").concat(e)).then((function(e){return n({type:C,payload:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[t,e]),Object(l.jsx)(b,{children:Object(l.jsx)("div",{style:{paddingTop:"100px",paddingBottom:"100px",paddingLeft:"15px",paddingRight:"15px",backgroundColor:"#F9FAFD",height:"100vh"},children:Object(l.jsx)(d.a,{style:{backgroundColor:"white",paddingTop:"20px",paddingBottom:"20px"},component:de.a,children:a?Object(l.jsx)("p",{children:"Loading..."}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:null===r||void 0===r?void 0:r.title}),Object(l.jsx)("p",{children:null===r||void 0===r?void 0:r.body})]})})})})};var pe=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:ue}),Object(l.jsx)(o.a,{exact:!0,path:"/posts/:id",component:be})]})})},he=n(53),Oe=n(111),xe={posts:[],post:{},searchResults:[],loading:!0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(x.a)(Object(x.a)({},e),{},{posts:t.payload,loading:!1});case C:return Object(x.a)(Object(x.a)({},e),{},{post:t.payload,loading:!1});case T:return Object(x.a)(Object(x.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload})),loading:!1});case k:var n;return Object(x.a)(Object(x.a)({},e),{},{posts:null===(n=e.posts)||void 0===n?void 0:n.map((function(e){return e.id===t.payload.id?Object(x.a)(Object(x.a)({},e),{},{title:t.payload.title,body:t.payload.body}):Object(x.a)({},e)})),loading:!1});case S:return Object(x.a)(Object(x.a)({},e),{},{posts:e.posts.filter((function(e){return""===t.payload||e.title.toLowerCase().includes(t.payload.toLocaleLowerCase())?e:void 0})),loading:!1});default:return e}},ye=Object(he.b)({data:fe}),ve=Object(he.c)(ye,Object(he.a)(Oe.a));a.a.render(Object(l.jsx)(i.a,{base:"/",children:Object(l.jsx)(O.a,{store:ve,children:Object(l.jsx)(pe,{})})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.c5f81e57.chunk.js.map