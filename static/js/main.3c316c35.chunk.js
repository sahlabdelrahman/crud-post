(this["webpackJsonpcrud-post"]=this["webpackJsonpcrud-post"]||[]).push([[0],{132:function(t,e,n){},133:function(t,e,n){},164:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(33),a=n.n(r),o=(n(132),n(15)),i=(n(133),n(37)),s=n(208),d=n(211),l=n(2);var j=function(){return Object(l.jsx)("header",{style:{position:"fixed",left:0,top:0,width:"100%",backgroundColor:"black"},children:Object(l.jsxs)(d.a,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px"},children:[Object(l.jsx)(s.a,{variant:"h5",component:"div",children:Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white"},to:"/",children:"Crud"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white",marginRight:"15px",fontWeight:"bold"},to:"/",children:"Home"}),Object(l.jsx)(i.b,{style:{textDecoration:"none",color:"white",fontWeight:"bold"},to:"/",children:"Posts"})]})]})})};var u=function(){return Object(l.jsx)("footer",{style:{position:"fixed",left:0,bottom:0,width:"100%",backgroundColor:"black"},children:Object(l.jsx)(d.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"15px",paddingBottom:"15px"},children:Object(l.jsx)(s.a,{variant:"body1",color:"white",children:"\xa9 2021 Crud"})})})};function b(t){var e=t.children;return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),e,Object(l.jsx)(u,{})]})}var p=n(13),h=n(5),O=n(27),x=n(16),f=n(17),y=n.n(f),v=n(28),g=n(49),m=n.n(g),w="GET_POSTS",C="GET_POST",k="EDIT_POST",T="DELETE_POST",S="SEARCH_POTS",L="https://jsonplaceholder.typicode.com/posts",E=function(t){return function(){var e=Object(v.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(L,"/").concat(t)).then((function(e){n({type:T,payload:t})})).catch((function(t){return console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(t,e){return function(){var n=Object(v.a)(y.a.mark((function n(c){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.put("".concat(L,"/").concat(t),Object(x.a)({},e)).then((function(t){c({type:k,payload:Object(x.a)({},t.data)})})).catch((function(t){return console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},F=n(203),R=n(82),A=n(4),B=n(217),P=n(108),W=n.n(P),_=n(205),I=n(212),z=n(216),M=n(214),q=n(215),G=n(213),H=n(197),J=Object(c.forwardRef)((function(t,e){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:e},t))}));var N=function(t){t.id;var e=t.title,n=t.body,r=Object(c.useState)(!1),a=Object(p.a)(r,2),o=a[0],i=a[1],s=function(){i(!1)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(W.a,{onClick:function(){i(!0)},color:"primary",style:{marginRight:"10px",cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:o,TransitionComponent:J,keepMounted:!0,onClose:s,"aria-describedby":"dialog-slide",children:[Object(l.jsx)(G.a,{children:e}),Object(l.jsx)(M.a,{children:Object(l.jsx)(q.a,{children:n})}),Object(l.jsx)(z.a,{children:Object(l.jsx)(_.a,{onClick:s,children:"Cancel"})})]})]})},U=n(109),K=n.n(U),Q=n(204),V=Object(c.forwardRef)((function(t,e){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:e},t))}));var X=function(t){var e=t.id,n=t.title,r=t.body,a=Object(O.b)(),o=Object(c.useState)({title:"",body:""}),i=Object(p.a)(o,2),s=i[0],d=i[1];Object(c.useEffect)((function(){d({title:n,body:r})}),[n,r]);var j=Object(c.useState)(!1),u=Object(p.a)(j,2),b=u[0],f=u[1],g=function(t){var e=t.target,n=e.name,c=e.value;d(Object(x.a)(Object(x.a)({},s),{},Object(h.a)({},n,c)))},m=function(){f(!1)},w=function(){var t=Object(v.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,a(D(e,s));case 3:return t.next=5,m();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)(K.a,{onClick:function(){f(!0)},color:"action",style:{marginRight:"10px",cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:b,TransitionComponent:V,keepMounted:!0,onClose:m,"aria-describedby":"dialog-slide",children:[Object(l.jsx)(G.a,{children:"Edit"}),Object(l.jsxs)(M.a,{children:[Object(l.jsx)(q.a,{children:"To edit the post, you must enter the new title and description"}),Object(l.jsxs)("form",{id:"editForm",onSubmit:w,children:[Object(l.jsx)(Q.a,{margin:"dense",id:"title",name:"title",value:s.title,onChange:g,label:"Title",type:"text",fullWidth:!0,variant:"standard",required:!0}),Object(l.jsx)(Q.a,{margin:"dense",id:"body",name:"body",value:s.body,onChange:g,label:"Description",type:"text",fullWidth:!0,variant:"standard",required:!0})]})]}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(_.a,{onClick:m,children:"Cancel"}),Object(l.jsx)(_.a,{type:"submit",form:"editForm",children:"Update"})]})]})]})},Y=n(110),Z=n.n(Y),$=Object(c.forwardRef)((function(t,e){return Object(l.jsx)(H.a,Object(x.a)({direction:"up",ref:e},t))}));var tt=function(t){var e=t.id,n=Object(c.useState)(!1),r=Object(p.a)(n,2),a=r[0],o=r[1],i=Object(O.b)(),s=function(){o(!1)},d=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){d.current=!1}}),[]);var j=function(){var t=Object(v.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.current){t.next=4;break}return t.next=3,i(E(e));case 3:s();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)(Z.a,{onClick:function(){o(!0)},color:"error",style:{cursor:"pointer"}}),Object(l.jsxs)(I.a,{open:a,TransitionComponent:$,keepMounted:!0,onClose:s,"aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(G.a,{children:"Delete"}),Object(l.jsx)(M.a,{children:Object(l.jsx)(q.a,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete the post?"})}),Object(l.jsxs)(z.a,{children:[Object(l.jsx)(_.a,{onClick:s,children:"Cancel"}),Object(l.jsx)(_.a,{onClick:j,children:"Confirm"})]})]})]})},et=Object(A.a)(F.a)((function(t){var e,n=t.theme;return e={},Object(h.a)(e,"&.".concat(R.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(h.a)(e,"&.".concat(R.a.body),{fontSize:14}),e})),nt=Object(A.a)(B.a)((function(t){return{"&:nth-of-type(odd)":{backgroundColor:t.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));var ct=function(t){var e=t.id,n=t.title,c=t.body;return Object(l.jsxs)(nt,{children:[Object(l.jsx)(et,{component:"th",scope:"row",children:Object(l.jsx)(i.b,{style:{textDecoration:"none"},to:"/posts/".concat(e),children:n})}),Object(l.jsxs)(et,{style:{display:"flex"},children:[Object(l.jsx)(N,{id:e,title:n,body:c}),Object(l.jsx)(X,{id:e,title:n,body:c}),Object(l.jsx)(tt,{id:e})]})]})};var rt=function(t){var e=t.searchTerm,n=t.setSearchTerm,c=t.postsLength,r=function(){var t=Object(v.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e.target.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"20px",paddingBottom:"20px"},children:[Object(l.jsx)("div",{children:Object(l.jsxs)(s.a,{children:["".concat(c," ")," posts"]})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"search",value:e,onChange:r,placeholder:"Search...",style:{padding:"10px",borderRadius:"4px",border:"2px solid #F9FAFD"}})})]})},at=n(219),ot=n(221),it=n(218),st=n(220),dt=n(210),lt=Object(A.a)(F.a)((function(t){var e,n=t.theme;return e={},Object(h.a)(e,"&.".concat(R.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(h.a)(e,"&.".concat(R.a.body),{fontSize:14}),e}));var jt=function(){var t=Object(O.c)((function(t){return t.data})),e=t.posts,n=t.loading,r=Object(O.b)();Object(c.useEffect)((function(){r(function(){var t=Object(v.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat(L)).then((function(t){return e({type:w,payload:t.data.slice(0,20)})})).catch((function(t){return console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[r]);var a=Object(c.useState)(""),o=Object(p.a)(a,2),i=o[0],s=o[1];return Object(l.jsx)("div",{style:{paddingTop:"120px",paddingBottom:"120px",backgroundColor:"#F9FAFD"},children:Object(l.jsx)(d.a,{children:Object(l.jsxs)(it.a,{style:{padding:"20px"},component:dt.a,children:[Object(l.jsx)(rt,{searchTerm:i,setSearchTerm:s,postsLength:e.length}),Object(l.jsxs)(at.a,{style:{minWidth:"900px"},sx:{minWidth:700},"aria-label":"customized table",children:[Object(l.jsx)(st.a,{children:Object(l.jsxs)(B.a,{children:[Object(l.jsx)(lt,{children:"Title"}),Object(l.jsx)(lt,{children:"Actions"})]})}),Object(l.jsx)(ot.a,{children:n?Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)("p",{style:{paddingLeft:"15px"},children:"Loading..."})})}):e.length>0?null===e||void 0===e?void 0:e.filter((function(t){return t.title===i||t.title.toLowerCase().includes(i.toLocaleLowerCase())?t:void 0})).map((function(t){return Object(l.jsx)(ct,{id:t.id,title:t.title,body:t.body},t.id)})):Object(l.jsx)("tr",{children:Object(l.jsx)("td",{children:Object(l.jsx)("p",{style:{paddingLeft:"15px"},children:"No posts to show"})})})})]})]})})})};var ut=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(jt,{})})};var bt=function(){var t=Object(o.f)().id,e=Object(O.b)(),n=Object(O.c)((function(t){return t.data})),r=n.post,a=n.loading;return Object(c.useEffect)((function(){e(function(t){return function(){var e=Object(v.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(L,"/").concat(t)).then((function(t){return n({type:C,payload:t.data})})).catch((function(t){return console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[e,t]),Object(l.jsx)(b,{children:Object(l.jsx)("div",{style:{paddingTop:"100px",paddingBottom:"100px",paddingLeft:"15px",paddingRight:"15px",backgroundColor:"#F9FAFD",height:"100vh"},children:Object(l.jsx)(d.a,{style:{backgroundColor:"white",paddingTop:"20px",paddingBottom:"20px"},component:dt.a,children:a?Object(l.jsx)("p",{children:"Loading..."}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:null===r||void 0===r?void 0:r.title}),Object(l.jsx)("p",{children:null===r||void 0===r?void 0:r.body})]})})})})};var pt=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:ut}),Object(l.jsx)(o.a,{exact:!0,path:"/posts/:id",component:bt})]})})},ht=n(53),Ot=n(111),xt={posts:[],post:{},searchResults:[],loading:!0},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(x.a)(Object(x.a)({},t),{},{posts:e.payload,loading:!1});case C:return Object(x.a)(Object(x.a)({},t),{},{post:e.payload,loading:!1});case T:return Object(x.a)(Object(x.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.payload})),loading:!1});case k:var n;return Object(x.a)(Object(x.a)({},t),{},{posts:null===(n=t.posts)||void 0===n?void 0:n.map((function(t){return t.id===e.payload.id?Object(x.a)(Object(x.a)({},t),{},{title:e.payload.title,body:e.payload.body}):Object(x.a)({},t)})),loading:!1});case S:return Object(x.a)(Object(x.a)({},t),{},{posts:t.posts.filter((function(t){return""===e.payload||t.title.toLowerCase().includes(e.payload.toLocaleLowerCase())?t:void 0})),loading:!1});default:return t}},yt=Object(ht.b)({data:ft}),vt=Object(ht.c)(yt,Object(ht.a)(Ot.a));a.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(O.a,{store:vt,children:Object(l.jsx)(pt,{})})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.3c316c35.chunk.js.map